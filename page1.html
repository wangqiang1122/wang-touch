<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            padding: 0 ;
            margin: 0;
            box-sizing: border-box;
        }
        #pageID{
         float: left;
        }
        #pageID:after{
            content: '';
            display: block;
            clear: both;
        }
        #pageID li{
            list-style: none;
            float: left;
            width: 30px;
            height: 30px;
            border: 1px solid #000;
            text-align: center;
            line-height: 30px;
            margin-left: 20px;
            cursor: pointer;
        }
        #pageZ span{
            float: left;
            cursor: pointer;
        }
        #pageZ:after{
            content: '';
            display: block;
            clear: both;
        }
        #pageID .active{
           border: 1px solid blue;
           color: blue;
       }
    </style>
</head>
<body>
<div id="pageZ">
    <span>上一页</span>
    <ul id="pageID">
        <!--<li class="active">1</li>-->
        <!--<li>2</li>-->
        <!--<li>3</li>-->
    </ul>
    <span>总页数</span>
    <span>下一页</span>
</div>

</body>

<script>
 function Page(obj) {
     this.obj = obj||{page:0,page_count: 0};
     this.startPage = 0;
     this.endPage = 0;
     this.show_page = 5; // 中间显示多少个页码  必须是个基数好看
     this.z_page = 7;    // 一共显示的页码数
 }
 Page.prototype.init = function () {
     this.create();
 };
 Page.prototype.create = function () {
     var ping = (this.show_page-1)/2; // 左右显示的平均数
     var num = this.obj.page-ping; // 最小页码
     var endnum =  (this.obj.page+ping)>this.obj.page_count?this.obj.page_count:(this.obj.page+ping) // 最大页码
     var pageID = document.getElementById('pageID');
     if (this.obj.page_count<= this.z_page) {
         this.smallPage()
     } else if( (this.show_page+num)>this.obj.page_count) {
         console.log('临近唯页');
         console.log((this.obj.page_count-this.z_page-1));
         for (var m=(this.obj.page_count- this.show_page-1);m<=this.obj.page_count;m++) {
             console.log(m)
             var li1 = document.createElement('li');
             li1.innerHTML = m;
             if (m==this.obj.page) {
                 li1.className = 'active'
             }
             pageID.appendChild(li1)
         }
     } else {
         num = num<1?1:num;
         console.log(num);

         if (this.obj.page>Math.ceil(this.show_page/2)) {
             console.log('我前面要显示省略号了')
         }
         if ((this.obj.page_count>this.z_page)&&((this.obj.page+(this.show_page-1)/2)<this.obj.page_count)) {
             console.log('我要显示省略号了')
         }

         for (var a = num; a<=endnum; a++) {
             var li = document.createElement('li');
             li.innerHTML = a;
             if (a === this.obj.page) {
                 li.className = 'active'
             }
             pageID.appendChild(li)
         }
     }

 };
 Page.prototype.smallPage = function () {
     for (var i=1;i<=this.obj.page_count;i++) {
         var li = document.createElement('li');
         li.innerHTML = i;
         if (i === this.obj.page) {
             li.className = 'active'
         }
         pageID.appendChild(li)
     }
 };
 var page = new Page({page:11,page_count: 11});
 page.init();
</script>
</html>
