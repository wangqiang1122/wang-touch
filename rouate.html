<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <title>旋转</title>
    <style>
        #box {
            width: 200px;
            height: 200px;
            background-color: yellow;
            /*position: absolute;*/
            top:100px;
            left: 50px;
            margin: 0 auto;
        }
        #input {

            /*margin-top: 100px;*/
        }
    </style>
</head>
<body>
 <div id = 'box'>
    你可以转了
 </div>

<!--<input id="input">1111</input>-->
 <input type="text" value="1111" id="input">
</body>
<script>
    // 弧度/派 = 角度/180
    window.onload = function () {
        var box = document.getElementById('box');
        let input = document.getElementById('input');
        let datanag = 0; // 保存当前角度
        box.addEventListener('touchstart',function (ev) {
            ev.preventDefault()
            var e = ev.targetTouches;
            console.log(e);
            // input.innerHTML = JSON.stringify(e);
            if (e.length === 2) {
                var x = Math.abs(e[0].pageX - e[1].pageX);
                var y = Math.abs(e[0].pageY - e[1].pageY);
                // input.value = `x=${x} y=${y}`
                var ang = Math.atan(x/y);
            }
            box.addEventListener('touchmove',function (ev) {
                var e = ev.targetTouches;
                ev.preventDefault()
                if (e.length === 2) {
                    var x = Math.abs(e[0].pageX - e[1].pageX);
                    var y = Math.abs(e[0].pageY - e[1].pageY);
                    var ang2 = Math.atan(x/y);
                    var jiaodu = ((ang2-ang)*180/Math.PI)+datanag;
                    datanag = jiaodu;
                    input.value = jiaodu;
                    this.style.transform = 'rotate('+jiaodu+'deg)';
                }
            })
        })
    }
</script>
</html>