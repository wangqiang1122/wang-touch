<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #canvas {
            margin-top: 50px;
            margin-left: 100px;
        }
    </style>
</head>
<body>
 <!--<canvas id="canvas" width="300px" height="300px" style="border: 1px solid black"></canvas>-->

<!--<div style="overflow:hidden">-->
    <!--<div style="float: left;width: 300px;height: 100px;background: red"></div>-->
    <!--<div style="  background: blue; overflow: hidden;height: 100px"></div>-->

<!--</div>-->

<div style="display: flex">
    <div style="width: 300px;height: 100px;background: red"></div>
    <div style="  background: blue;height: 100px;flex-grow: 1"></div>
</div>

</body>
<script>
  // window.onload = function () {
  //     let canvas = document.getElementById('canvas');
  //     console.log(canvas)
  //     canvas.addEventListener('mousedown',function (ev) {
  //
  //         function move(ev) {
  //           console.log(ev.offsetX)
  //         }
  //         function end() {
  //             canvas.removeEventListener('mousemove',move);
  //             canvas.removeEventListener('mouseup',end);
  //         }
  //         canvas.addEventListener('mousemove',move);
  //         canvas.addEventListener('mouseup',end);
  //     })
  // }
  // console.log(typeof Symbol('22222'))

  //   console.log(1);
  // setTimeout(()=>{
  //     console.log(2)
  //     Promise.resolve(1).then(()=>{
  //         console.log(3)
  //     })
  // },0)
  //
  // setTimeout(()=>{
  //     console.log(4)
  //
  // },0)


  function fn1() {
      setTimeout(()=>{
          console.log(1);
      },1000)
  }

  function fn2() {
      console.log(2);
  }

  function fn3() {
      console.log(3);
  }

  var arr = [fn1,fn2,fn3];

  // 聚合方法
  function getNum() {

  }
  // fn1(fn2(fn3()))
  //
  // arr.reduce((...arg)=>{
  //
  // })

  function compose(...args) {
      let len = args.length;
      if (len===0) return ()=>{};
      if (len===1) {
          return args[0]
      } else {
          return args.reduce((a,b)=>{
              console.log(a);console.log(b);
              return (...args)=>a(b(args))
          })

          // return args.reduce((a,b)=>()=>{b(a())})
      }
  }
  compose(fn1,fn2,fn3)()

  // arr.reduce((a,b)=>{
  //     (...args)=>{
  //         a(b(args))
  //     }
  // })







</script>
</html>
